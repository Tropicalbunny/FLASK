{% extends 'base.html' %}

{% block head %}
<script>
    function sendValue(buttonValue) {
        fetch('/button', {
            method: 'POST',
            body: JSON.stringify({value: buttonValue}),
            headers: {
                'Content-Type': 'application/json'
            },
        })
        .then(response => response.json())
        .then(data => console.log(data));
    }
    fetch('/update-image')
        .then(response => response.json())
        .then(data => {
            if (data == 6) {
                document.getElementById('hangman-image-inner').src = "/static/images/hang2.png"
        } else if (data == 5){
            document.getElementById('hangman-image-inner').src = "/static/images/hang3.png"
        } else if (data == 4){
            document.getElementById('hangman-image-inner').src = "/static/images/hang4.png"
        } else if (data == 3){
            document.getElementById('hangman-image-inner').src = "/static/images/hang5.png"
        } else if (data == 2){
            document.getElementById('hangman-image-inner').src = "/static/images/hang6.png"
        } else if (data == 1){
            document.getElementById('hangman-image-inner').src = "/static/images/hang7.png"
        } else if (data == 0){
            document.getElementById('hangman-image-inner').src = "/static/images/hang8.png"
        } else {
            document.getElementById('hangman-image-inner').src = "/static/images/hang1.png" 
        }
    });
    function hideButton(buttonId) {
            var button = document.getElementById(buttonId);
            button.style.display = 'none'; 
        }
    fetch('/updateButtons')
        .then(response => response.json())
        .then(data => {
        
        let buttonsArray = data.split('');

        buttonsArray.forEach(element => {
            hideButton(element);
            console.log(element);
        });
    });
</script>
{% endblock %}

{% block body %}
<!-- header for the hangman game -->
<section class="gametop">
    <div class="gametopbox" id="title-box-outer"><h1 id="title-box">Hangman</h1></div>
    <div class="gametopbox">
        <ul id="infohome">
            <li><button class="buttongame" id="info-open"><i class="fa-solid fa-question"  style="color: #000000;"></i></button></li>
            <li><button class="buttongame" id="home" onclick="transitionToPage('index.html')"><i class="fa-solid fa-house" style="color: #000000;"></i></button></li>
        </ul>
    </div>
</section>
<!-- board for the hangman images-->
<section>
    <div id="hangman-image-outer">
        <img id="hangman-image-inner" src="/static/images/hang1.png">
    </div>
    <div id="word-guess"><p>{{ displayedLetters }}</p></div>
    <div id="letter-guesses">
        <form>
        <button onclick="sendValue(this.value)" class="guess-button" id="a" value ="a">A</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="b" value ="b">B</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="c" value ="c">C</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="d" value ="d">D</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="e" value ="e">E</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="f" value ="f">F</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="g" value ="g">G</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="h" value ="h">H</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="i" value ="i">I</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="j" value ="j">J</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="k" value ="k">k</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="l" value ="l">L</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="m" value ="m">M</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="n" value ="n">N</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="o" value ="o">O</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="p" value ="p">P</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="q" value ="q">Q</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="r" value ="r">R</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="s" value ="s">S</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="t" value ="t">T</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="u" value ="u">U</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="v" value ="v">V</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="w" value ="w">W</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="x" value ="x">X</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="y" value ="y">Y</button>
        <button onclick="sendValue(this.value)" class="guess-button" id="z" value ="z">Z</button>

        </form>
    </div>
</section>
{% endblock %}